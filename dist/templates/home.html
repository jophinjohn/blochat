<section class="jumbotron">
    <h1 id="home-title">Bloc Chat</h1>
    <p id="home-tagline">Chat About Anything!</p>
</section>

<div class="col-md-3 sidebar">
    <div class="header">
        <div class="new-chat-room">
            <div ng-controller="ModuleCtrl as module">
                 <p class="title"><strong>Chat Rooms</strong></p>
                 <button class="btn btn-primary new-chat-button" type="button" ng-click="module.open()"><strong>+ </strong>New Chat Room</button>
                 
                <div class="rooms-list">
                    <div ng-repeat="room in home.roomData.all" class="chatrooms">
                        <a ng-click="home.selectRoom(room)">{{ room.name }}</a>
                    </div>
                </div>
                <script type="text/ng-template" id="myModalContent.html">
                    <form>
                        <div class="modal-header">
                            <h3 class="modal-title" id="modal-title">Room Creation Modal</h3>
                        </div>
                        <div class="modal-body" id="modal-body">
                           Name: <input type="text" ng-model="home.chatName" placeholder="Enter new room name">
                        </div>
                        <div class="modal-footer">
                            <input class="btn btn-primary" type="submit" ng-click="module.addRoom(home.chatName)" value="Presto!" />
                            <button class="btn btn-warning" type="button" ng-click="module.close()">Cancel</button>
                        </div>
                    </form>
                </script>
        </div>
        </div>
    </div>
</div>

<div class="col-md-9 chatroom">
    <h3>{{ home.selectedRoom.name }}</h3>
    {{ home.currentUser }}
     <form ng-if="!home.currentUser">
    <div class="form-group" >
      <input type="text" placeholder="Enter a username..." class="form-control" ng-model="newUserName">
    </div>
    <button class="btn btn-primary" type="button" ng-click="home.saveUserName(newUserName)">Create</button>
  </form>
    <p ng-repeat="message in home.messages">
       <strong>{{ message.username }}:</strong> {{ message.body }}
        <br />
        Sent: {{ message.sentAt }}
    </p>
</div>
            
<div class="modal-header">
  <h3 class="modal-title" id="modal-title">Set a Username!</h3>
</div>
<div class="modal-body" id="modal-body">
  <div class="form-group" >
		<input type="text" placeholder="Enter a username..." class="form-control" ng-model="newUsername">
	</div>
</div>
<div class="modal-footer">
	<button class="btn btn-primary" type="button" ng-click="create()">Create</button>
</div>

